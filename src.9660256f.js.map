{"version":3,"sources":["index.js"],"names":["galleryItems","preview","original","description","imagesContainer","document","querySelector","cardsMarkup","createGalleryItems","map","join","onImagesContainerClick","evt","preventDefault","target","classList","contains","onOpenModalWindow","refs","lightboxImage","src","dataset","source","alt","console","log","insertAdjacentHTML","addEventListener","lightbox","closeModalWindow","window","onKeyPressEsc","add","onCloseModalWindow","removeEventListener","remove","onModalWindowClick","code","flippingPictures","originImage","item","index","indexOf","length","setAttribute"],"mappings":";;;AAoMC,aApMD,QAAA,oBAGA,MAAMA,EAAe,CACnB,CACEC,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBAIXC,EAAkBC,SAASC,cAAc,eAEzCC,EAAcC,EAAmBR,GAQvC,SAASQ,EAAmBR,GACnBA,OAAAA,EAENS,IAAI,EAAGR,QAAAA,EAASC,SAAAA,EAAUC,YAAAA,mFAMjBD,+DAICD,0BACQC,kBACRC,6BAKVO,KAAK,IAIR,SAASC,EAAuBC,GAEhCA,EAAIC,iBAGqBD,EAAIE,OAAOC,UAAUC,SAAS,oBAOrDC,IAEAC,EAAKC,cAAcC,IAAMR,EAAIE,OAAOO,QAAQC,OAC5CJ,EAAKC,cAAcI,IAAMX,EAAIE,OAAOS,IAEpCC,QAAQC,IAAIb,EAAIE,SA9ClBV,EAAgBsB,mBAAmB,YAAanB,GAEhDH,EAAgBuB,iBAAiB,QAAShB,GAkD1C,MAAMO,EAAO,CACXU,SAAUvB,SAASC,cAAc,gBACjCuB,iBAAkBxB,SAASC,cAAc,kCACzCa,cAAed,SAASC,cAAc,qBAKxC,SAASW,IAEPa,OAAOH,iBAAiB,UAAWI,GACnCb,EAAKU,SAASb,UAAUiB,IAAI,WAM9B,SAASC,IACPH,OAAOI,oBAAoB,UAAWH,GACtCb,EAAKU,SAASb,UAAUoB,OAAO,WAC/BjB,EAAKC,cAAcC,IAAM,GACzBF,EAAKC,cAAcI,IAAM,GAQ3B,SAASa,EAAmBxB,GACtBA,EAAIE,SAAWI,EAAKC,eACtBc,IAMJ,SAASF,EAAenB,GACL,WAAbA,EAAIyB,MACNJ,IAjCJf,EAAKC,cAAcQ,iBAAkB,QAASV,GAS9CC,EAAKW,iBAAiBF,iBAAiB,QAASM,GAYhDf,EAAKU,SAASD,iBAAiB,QAASS,GAkBxCN,OAAOH,iBAAiB,UAAWW,GAEnC,MAAMC,EAAcvC,EAAaS,IAAK+B,GAASA,EAAKtC,UAGpD,SAASoC,EAAiB1B,GAEpB6B,IAAAA,EAAQF,EAAYG,QAAQxB,EAAKC,cAAcC,KAEnC,eAAbR,EAAIyB,OACDI,EAAQF,EAAYI,OAAS,EAC/BzB,EAAKC,cAAcyB,aAAa,MAAOL,EAAYE,EAAQ,KAG1DA,GAAS,EACTvB,EAAKC,cAAcyB,aAAa,MAAOL,EAAYE,EAAQ,MAG/C,cAAb7B,EAAIyB,OACQ,IAAVI,GACFA,EAAQF,EAAYI,OACpBzB,EAAKC,cAAcyB,aAAa,MAAOL,EAAYE,EAAQ,KAExDvB,EAAKC,cAAcyB,aAAa,MAAOL,EAAYE,EAAQ","file":"src.9660256f.js","sourceRoot":"../src","sourcesContent":["import './sass/main.scss';\n\n\nconst galleryItems = [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n\nconst imagesContainer = document.querySelector(\".js-gallery\");\n\nconst cardsMarkup = createGalleryItems(galleryItems);\n\n\nimagesContainer.insertAdjacentHTML(\"beforeend\", cardsMarkup);\n\nimagesContainer.addEventListener(\"click\", onImagesContainerClick);\n\n\nfunction createGalleryItems(galleryItems) {\n  return galleryItems\n  \n  .map(({ preview, original, description }) => {\n\n    return `\n  <li class=\"gallery__item\">\n  <a\n    class=\"gallery__link\"\n    href=\"${original}\"\n  >\n    <img\n      class=\"gallery__image\"\n      src=\"${preview}\"\n      data-source=\"${original}\"\n      alt=\"${description}\"\n    />\n  </a>\n</li>`;\n  })\n  .join(\"\");\n}\n\n\nfunction onImagesContainerClick(evt) {\n\nevt.preventDefault();\n\n\n  const isGalleryImage = evt.target.classList.contains(\"gallery__image\");\n  if (!isGalleryImage) {\n    return;\n  }\n\n//   /*для открытия модального окна*/\n\n  onOpenModalWindow();\n\n  refs.lightboxImage.src = evt.target.dataset.source;\n  refs.lightboxImage.alt = evt.target.alt;\n  \n  console.log(evt.target);\n\n}\n\n/*Модальное окно*/\n\nconst refs = {\n  lightbox: document.querySelector(\".js-lightbox\"),\n  closeModalWindow: document.querySelector('[data-action=\"close-lightbox\"]'),\n  lightboxImage: document.querySelector(\".lightbox__image\"),\n}\n \nrefs.lightboxImage.addEventListener (\"click\", onOpenModalWindow);\n\nfunction onOpenModalWindow () {\n  \n  window.addEventListener(\"keydown\", onKeyPressEsc);\n  refs.lightbox.classList.add(\"is-open\");\n}\n\n\nrefs.closeModalWindow.addEventListener(\"click\", onCloseModalWindow);\n\nfunction onCloseModalWindow() {\n  window.removeEventListener(\"keydown\", onKeyPressEsc);\n  refs.lightbox.classList.remove(\"is-open\");\n  refs.lightboxImage.src = \"\";\n  refs.lightboxImage.alt = \"\";\n  \n}\n\n/*Закрытие модального окна по клику на div.lightbox__overlay */\n\nrefs.lightbox.addEventListener(\"click\", onModalWindowClick);\n\nfunction onModalWindowClick(evt) {\n  if (evt.target !== refs.lightboxImage) {\n    onCloseModalWindow();\n  }\n}\n\n/*Закрытие модального окна по нажатию клавиши ESC. */\n\nfunction onKeyPressEsc (evt) {\n  if (evt.code === \"Escape\") {\n    onCloseModalWindow();\n  }\n}\n\n/*Пролистывание изображений галереи в открытом модальном окне клавишами \"влево\" и \"вправо\". */\n\nwindow.addEventListener(\"keydown\", flippingPictures);\n\nconst originImage = galleryItems.map((item) => item.original);\n\n\nfunction flippingPictures(evt) {\n\n  let index = originImage.indexOf(refs.lightboxImage.src);\n\n  if(evt.code === \"ArrowRight\") {\n    if (index < originImage.length - 1) {\n      refs.lightboxImage.setAttribute(\"src\", originImage[index + 1]);\n    }\n     else {\n       index = -1;\n       refs.lightboxImage.setAttribute(\"src\", originImage[index + 1]);\n     }\n  }\n  if (evt.code === \"ArrowLeft\") {\n    if (index === 0) {\n      index = originImage.length;\n      refs.lightboxImage.setAttribute(\"src\", originImage[index - 1]);\n    } \n    else refs.lightboxImage.setAttribute(\"src\", originImage[index - 1]);\n  }\n}"]}